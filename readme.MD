# ğŸ›’ RoboShop Microservices Deployment Automation (AWS â˜ï¸)

This repository contains a **real-world DevOps automation setup** that installs, configures, and deploys the full **RoboShop microservices application** on:

ğŸ‘‰ **RHEL / Amazon Linux 9**

The goal:  
Spin up servers âœ Run scripts âœ Entire application becomes live ğŸš€

No manual configuration headaches ğŸ˜„

---

## ğŸ—ï¸ Architecture Overview

The automation deploys multiple application services built using different technologies:

- ğŸŒ Node.js
- â˜• Java
- ğŸ Python
- ğŸ¹ GoLang

And connects them with distributed backend systems:

- ğŸƒ MongoDB (NoSQL DB)
- ğŸ¬ MySQL (SQL DB)
- âš¡ Redis (Cache)
- ğŸ° RabbitMQ (Message Queue)

This simulates a **real enterprise microservices architecture**.

---

## ğŸ›  Features & Engineering Practices

### ğŸ” Idempotent Scripts (Run Anytime Safely)
Scripts can be executed again and again without breaking the system:

âœ” No duplicate users  
âœ” No duplicate folders  
âœ” No repeated installations  
âœ” No inconsistent configuration  

Environment values are handled using `.env` files for each service ğŸ“„

---

### âš™ï¸ Decoupled Configuration
Application code and environment config are separated (best DevOps practice):

- Uses **SystemD EnvironmentFile**
- Keeps code reusable across environments (DEV / SIT / PROD)

---

### ğŸ“ Centralized Logging
All automation logs are stored here:


So debugging becomes super easy ğŸ”

---

### ğŸ›¡ï¸ Defensive Scripting
Scripts are written safely like production automation:

- Root user validation ğŸ‘®
- Live execution checks ğŸ§ 
- Step-by-step error handling âŒ

---

## ğŸ“– Deployment Guide

---

## 1ï¸âƒ£ Prerequisites

Before running scripts, you MUST create environment files on each server.

This keeps secrets & configuration outside the code ğŸ”

| Service | File Location | Required Variables |
|------|------|------|
| Cart / User | `/etc/roboshop/cart.env` | REDIS_HOST, CATALOGUE_HOST, CATALOGUE_PORT |
| Shipping | `/etc/roboshop/shipping.env` | CART_ENDPOINT, DB_HOST |
| Payment | `/etc/roboshop/payment.env` | CART_HOST, USER_HOST, AMQP_HOST, AMQP_USER, AMQP_PASS |
| Dispatch | `/etc/roboshop/dispatch.env` | AMQP_HOST, AMQP_USER, AMQP_PASS |

---

## 2ï¸âƒ£ Running the Deployment

Sensitive data like passwords are **never hardcoded**.  
They are passed at runtime using positional parameters ğŸ”

Example:
```bash
sudo sh mysql.sh <db_password>


aws-automation/
â”œâ”€â”€ common.sh       # Shared reusable functions (validation, logging, user creation)
â”œâ”€â”€ mongodb.sh      # MongoDB setup
â”œâ”€â”€ mysql.sh        # MySQL setup (password passed dynamically)
â”œâ”€â”€ redis.sh        # Redis configuration
â”œâ”€â”€ rabbitmq.sh     # RabbitMQ setup with safe user creation
â”œâ”€â”€ catalogue.sh    # Node.js service
â”œâ”€â”€ cart.sh         # Node.js service
â”œâ”€â”€ user.sh         # Node.js service
â”œâ”€â”€ shipping.sh     # Java build + DB schema loading
â”œâ”€â”€ payment.sh      # Python + uWSGI deployment
â””â”€â”€ dispatch.sh     # GoLang compile & deploy
